

07.04.20
Создан этот дневник разработки. Поздновато, вообще говоря :)
Сегодня сделал полную замену всех веток деревьев на упрощенные - теперь коннект к листве не отличается от коннекта к другой ветке\блоку дерева. 
В качестве основы залил и адаптировал новую траву для магматического биома. Надо доделать для всех остальных. Все блоки земли и травы теперь - падающие, как в тфк.
Она имеет четыре стейта - сухая, сгоревшая, заснеженная и обычная. Сухая трава получилась не очень по виду. Специально для этой травы сделал кастомный блок,
который имеет слои-плоскости, которые окрашиваются в биом, а обычная сторона блока - нет. Находятся на расстоянии 0.0001 от поверхности блока. Невооруженным взглядом не видно. Тип рендера пришлось сменить на 
TRANSLUCENT, иначе рябит. Хотя надо поэкспериментировать. 
Требуемого результата добился блестяще, хотя если смотреть слишком издалека, с мип-маппингом в каких то некоторых областях творится что то дикое - черные грани и ямы.В дальней-дальней перспективе -
может быть исправлю. Стоит сделать конфиг, пока еще не очень много всего добавлено, и перенести многие важные геймплейные значения в него. 

17.04.20
Вообще говоря, инфу можно представить как за 15 и 16 апреля, тоже. Почти все эти дни был дождь, посему посвятил их изучению таки слоев. Решил добавить еще по два субтипа для регионов - болото(Swamp)
и озеро(Lake). Озеро не входит в слои, скорей всего оно будет делатся отдельно, либо будет входить, но нужно разбиратся, как масштабировать один конкретный биом. Кстати, выяснилось, что число k
( int k = parent[(dx + dz * width)];) - это получение id текущего биома в данной точке. Исходя из этого, можно отталкиватся от id для каких то проверок. Чанки сперва делаются 4х4, а затем масштабируются
последовательно до 16х16(height и weight равны 4, их площадь соответсвенно, 16). Судя по многочасовым мучениям, больше одного слоя биомов быть не может. Плюс после наложения биомов все слои уже 
будут работать в основном на биомы. Таким образом, получается что ландшафт нужно рисовать ДО наложения слоя биомов. Сука, ебаный матан, блять. Первые попытки создать "суббиомный слой" оказались все 
провальными - ничего не работало. Можно всунуть либо эти биомы в дефолтную сетку, либо большие. Разницы не вижу, но в итоге выходит только что то одно. Сделал кастомный слой AddIsland, дабы не 
рождались всякие каки с непонятными включениями сраной ваниллы. На текущее время реализовать концепцию биомов не вижу вариантов. Единственный выход, который только что пришел в голову -
генерировать три типа биомов с помощью слоев, а все остальное - написать новую механику суб-биомов, которая будет работать исключительно внутри биомов, не имея отношения к слоям уже никакого. 
Второй вариант - как то включать все биомы внутрь одного слоя. В тоже время, хочется просто, чтобы биомы спавнились регионами. Возможно стоит придумать концепцию типо "полосатой сетки", где каждая
полоса будет своим регионом. Опять же, пока не ясно, как это сделать, необходимо и дальше экспериментировать с матрицей. Ну по крайней мере, я наконец врубился, как сделать островки в мировом океане
и зуммировать их до +- нормальных материков.

18.04.20
Сегодня тучки более-менее прояснились. Мир и слои стали генерироватся так, как я это задумываю! Я имею, сука, власть, ухаха! Пока что все работает криво и я не совсем понимаю как. Но - я вынес сегодня
главный урок - оказывается родитель нужно всегда писать в аргументах, а не через тупо присваивание вести цепочку. Кстати, удалось расковырять стоковый GenLayerIsland и заставить его генерить три биома.
Добавил блоки глины и окаменевшей глины. Часа 4 потратил на то, чтобы правильно написать это послойное заполнения чанка. Сраные сука ебаные можанги делать все через жопу. Им надо было сделать цикл,
блять, который от конечного числа до 0 МИНУСОВАЛСЯ. Ну ебаный в рот! Хорошо хоть выяснил и потом сделать вручную слои получилось успешно. Все как в жизни - сначала идет слой дерна в 1 блок, затем 
3 блока земли, под ними еще 3 блока глины, потом ниже 4 блока твердой глины(каменистой) и ниже ее уже идет камень. Блоки добавлены для каждого типа биомов. Необходимо в обязательно порядке подрихтовать
террафирмовские слишком резкие текстуры, подобрать более сдержанный цвет биомов. Для глин метаморфической и осадочных пород по любому надо перерисовывать текстуры.